<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1º Encontro Rugby LEGENDS - Bonito MS 2026</title>

    <meta property="og:title" content="1º Encontro Rugby LEGENDS - Bonito MS 2026">
    <meta property="og:description"
        content="Rugby, Família e Resort. A oportunidade única de reunir todas as suas paixões em um só lugar.">
    <meta property="og:image"
        content="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Rugby%2FCaptura%20de%20tela%202025-08-14%20202935.png?alt=media&token=cfbeb1d8-92e8-4159-b12b-1de947e533b5">
    <meta property="og:type" content="website">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bowlby+One+SC&family=Roboto:wght@400;700&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://sdk.mercadopago.com/js/v2"></script>

    <style>
        :root {
            --rugby-gold: #fBBF24;
            --rugby-dark: #0f172a;
        }

        html,
        body {
            width: 100%;
            overflow-x: hidden;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--rugby-dark);
        }

        h1,
        h2,
        h3,
        h4 {
            font-family: 'Bowlby One SC', cursive;
            letter-spacing: 0.05em;
        }

        .zagaia-bg {
            background-image: linear-gradient(rgba(15, 23, 42, 0.85), rgba(15, 23, 42, 0.85)), url('https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Rugby%2FCaptura%20de%20tela%202025-08-14%20201507.png?alt=media&token=9f04fcfe-a72f-464f-ac63-a1c6fd6d9565');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .countdown-box {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.2s ease-out;
        }

        #hero video {
            object-fit: cover;
        }

        header.scrolled {
            background-color: var(--rugby-dark);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.7);
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }

        .card-mud {
            position: relative;
            overflow: hidden;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.3s ease;
        }

        .card-mud:hover {
            transform: translateY(-8px) rotate(0.5deg);
            box-shadow: 0 25px 40px rgba(0, 0, 0, 0.5);
        }

        .card-mud::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: -15px;
            width: 80px;
            height: 80px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%23543d26" d="M10 80 Q15 70 20 80 Q25 90 30 80 M40 60 Q45 50 50 60 M5 95 Q10 85 15 95"/></svg>');
            background-size: contain;
            opacity: 0.4;
            transition: opacity 0.3s ease;
        }

        .card-mud:hover::after {
            opacity: 0.8;
        }

        #whatsapp-options a {
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        #whatsapp-container.open #whatsapp-options a {
            opacity: 1;
            transform: translateY(0);
        }

        #whatsapp-options a:nth-child(1) {
            transition-delay: 0.1s;
        }

        #whatsapp-options a:nth-child(2) {
            transition-delay: 0.2s;
        }

        #kitModal {
            transition: opacity 0.3s ease-in-out;
        }

        body.overflow-hidden {
            overflow: hidden;
        }

        .perspective-1000 {
            perspective: 1000px;
        }

        .hover\:rotate-y-12:hover {
            transform: rotateY(12deg);
        }

        .schedule-tab {
            color: #94a3b8;
            border-bottom: 4px solid transparent;
            transition: all 0.3s ease;
        }

        .schedule-tab:hover {
            color: #fde047;
        }

        .schedule-tab.active-tab {
            color: var(--rugby-gold);
            border-bottom-color: var(--rugby-gold);
        }

        /* Estilos para abas de pagamento */
        .payment-tab {
            transition: all 0.2s ease-in-out;
        }
    </style>
</head>

<body class="text-white">

    <header class="fixed top-0 left-0 right-0 z-50 bg-gray-900/80 backdrop-blur-sm shadow-lg transition-all duration-300 p-4">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-3xl tracking-wider text-amber-400">R<span class="text-white">UGBY</span> L<span
                    class="text-white">EGENDS</span></h1>
            <nav class="hidden md:flex space-x-6 font-roboto">
                <a href="#sobre" class="hover:text-amber-400 transition duration-300">O Encontro</a>
                <a href="#local" class="hover:text-amber-400 transition duration-300">O Local</a>
                <a href="#programacao" class="hover:text-amber-400 transition duration-300">Programação</a>
                <a href="#bonito" class="hover:text-amber-400 transition duration-300">Explore Bonito</a>
                <a href="#kit" class="hover:text-amber-400 transition duration-300">Kit Atleta</a>
                <a href="#inscricao" class="hover:text-amber-400 transition duration-300">Inscrição</a>
                <a href="#pacotes" class="hover:text-amber-400 transition duration-300">Pacotes</a>
            </nav>
            <div class="flex items-center gap-4">
                <a href="#inscricao" id="header-cta-btn"
                    class="hidden sm:block bg-amber-500 hover:bg-amber-400 text-gray-900 font-bold py-2 px-4 rounded-lg transition duration-300 shadow-md hover:shadow-xl hover:shadow-amber-500/50 transform hover:scale-105">
                    GARANTA SUA VAGA
                </a>
            </div>
        </div>
    </header>

    <main class="w-full overflow-x-hidden">
        <section id="hero" class="relative min-h-screen flex items-center justify-center text-center overflow-hidden">
            <video autoplay loop muted playsinline class="absolute top-0 left-0 w-full h-full z-0">
                <source
                    src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Rugby%2FRugby%20video%20de%20entrada.mp4?alt=media&token=b0df7f32-fce2-4f75-9a7d-222123ecad74"
                    type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="absolute inset-0 bg-black/75 z-10"></div>
            <div class="relative z-20 container mx-auto px-4 pt-20">
                <h2 class="text-5xl sm:text-6xl md:text-8xl lg:text-9xl text-white tracking-widest leading-tight"
                    data-aos="fade-up" data-aos-delay="400">SAVE THE DATE</h2>
                <p class="text-amber-400 text-2xl md:text-4xl font-bold tracking-wider mb-4" data-aos="fade-up"
                    data-aos-delay="600">06 a 08 de Fevereiro de 2026</p>
                <h1 class="text-3xl sm:text-4xl md:text-6xl font-bold mb-6" data-aos="fade-up" data-aos-delay="800">
                    1º Encontro Rugby LEGENDS</h1>
                <p class="text-lg md:text-xl max-w-3xl mx-auto mb-8 text-gray-300 font-roboto" data-aos="fade-up"
                    data-aos-delay="1000">Rugby, Família e Resort. A oportunidade única
                    de reunir todas as suas paixões em um só lugar.</p>
                <a href="#inscricao"
                    class="bg-white text-gray-900 font-bold py-3 px-8 rounded-full text-lg hover:bg-gray-200 transition duration-300 transform hover:scale-110 shadow-xl"
                    data-aos="zoom-in" data-aos-delay="1200">INSCREVA-SE AGORA</a>
            </div>
        </section>

        <section id="sobre" class="py-20 bg-slate-800">
            <div class="container mx-auto text-center px-4">
                <h2 class="text-4xl sm:text-5xl md:text-6xl text-amber-400 mb-4" data-aos="fade-right">
                    Uma Convocação Histórica</h2>
                <p class="max-w-4xl mx-auto text-lg text-gray-300 mb-6 font-roboto" data-aos="fade-left">
                    Mais do que um simples evento, o 1º Encontro Rugby LEGENDS é uma celebração da amizade, da história
                    e da paixão que nos une. Estamos reunindo veteranos de todo o Brasil e da América do Sul para três
                    dias inesquecíveis de resenha, reencontros e, claro, muito rugby.
                </p>
                <p class="max-w-4xl mx-auto text-lg text-gray-300 mb-12 font-roboto" data-aos="fade-left"
                    data-aos-delay="200">
                    O coração do nosso encontro será um **torneio amistoso de Rugby XV**, com times formados por lendas.
                    As vagas são limitadas para garantir o equilíbrio das equipes e a qualidade do jogo. Prepare-se
                    para reviver a glória dos velhos tempos!
                </p>
                <div class="grid md:grid-cols-3 gap-8 mb-12">
                    <div class="bg-slate-900 p-8 rounded-xl shadow-lg card-mud flex flex-col" data-aos="zoom-in-up"
                        data-aos-delay="100">
                        <i data-lucide="shield-half" class="mx-auto h-16 w-16 text-amber-400 mb-4"></i>
                        <h3 class="text-3xl mb-2">Rugby Para Todos</h3>
                        <div class="text-gray-400 flex-grow text-left font-roboto">
                            <strong class="text-amber-400 block mb-2"> • Torneio Principal (XV):</strong> O grande
                            destaque, com times de Lendas, seguindo as regras adaptadas Golden Oldies (+45).
                            <strong class="text-amber-400 block mt-3 mb-2"> • Touch Rugby Familiar:</strong> Uma
                            atividade leve para que esposas, filhos e amigos possam se divertir em campo.
                            <strong class="text-amber-400 block mt-3 mb-2"> • Jogo de Confraternização (XV):</strong>
                            Para fechar, uma partida aberta de XV, unindo jogadores de todas as idades.
                        </div>
                    </div>
                    <div class="bg-slate-900 p-8 rounded-xl shadow-lg card-mud" data-aos="zoom-in-up"
                        data-aos-delay="300">
                        <i data-lucide="heart-handshake" class="mx-auto h-16 w-16 text-amber-400 mb-4"></i>
                        <h3 class="text-3xl mb-2">Família</h3>
                        <p class="text-gray-400 font-roboto">Estrutura completa de
                            lazer para todas as idades. A torcida mais importante da sua vida merece todo o conforto e
                            diversão.</p>
                    </div>
                    <div class="bg-slate-900 p-8 rounded-xl shadow-lg card-mud" data-aos="zoom-in-up"
                        data-aos-delay="500">
                        <i data-lucide="palmtree" class="mx-auto h-16 w-16 text-amber-400 mb-4"></i>
                        <h3 class="text-3xl mb-2">Resort</h3>
                        <p class="text-gray-400 font-roboto">Desfrute de piscinas,
                            gastronomia de alta qualidade e todo o conforto que só o Zagaia Eco Resort pode oferecer.
                        </p>
                    </div>
                </div>
                <a href="#inscricao"
                    class="bg-amber-500 hover:bg-amber-400 text-gray-900 font-bold py-3 px-8 rounded-full text-lg transition duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-amber-500/50"
                    data-aos="flip-up">QUERO FAZER PARTE DE UM TIME!</a>
            </div>
        </section>

        <section id="local" class="py-20 zagaia-bg">
            <div class="container mx-auto text-center px-4" data-aos="fade-up">
                <h2 class="text-4xl sm:text-5xl md:text-6xl mb-4">O Cenário Perfeito</h2>
                <h3 class="text-3xl text-amber-400 mb-8">Zagaia Eco Resort | Bonito-MS</h3>
                <p class="max-w-4xl mx-auto text-lg text-gray-200 mb-12 font-roboto">
                    Em meio à natureza exuberante de Bonito, o Zagaia Eco Resort oferece uma infraestrutura de classe
                    mundial. Com 600.000 m² de área exclusiva, piscinas, quadras, spa, e uma gastronomia premiada, é o
                    campo de jogo ideal para nossas lendas e suas famílias.
                </p>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <img src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Rugby%2FCaptura%20de%20tela%202025-08-14%20201602.png?alt=media&token=912d7f53-3bf2-4215-adfa-2f4cbccf184c"
                        alt="Piscina do Resort"
                        class="rounded-lg shadow-lg aspect-video object-cover transform hover:scale-110 transition duration-300"
                        data-aos="zoom-in" data-aos-delay="100">
                    <img src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Rugby%2FCaptura%20de%20tela%202025-08-14%20201716.png?alt=media&token=85f943d4-9179-4213-9c02-f5d2b8cbd717"
                        alt="Apartamento do Resort"
                        class="rounded-lg shadow-lg aspect-video object-cover transform hover:scale-110 transition duration-300"
                        data-aos="zoom-in" data-aos-delay="200">
                    <img src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Rugby%2FCaptura%20de%20tela%202025-08-14%20201651.png?alt=media&token=bf6a5c9b-1eea-432a-bbee-532ad5aeb26d"
                        alt="Área Verde do Resort"
                        class="rounded-lg shadow-lg aspect-video object-cover transform hover:scale-110 transition duration-300"
                        data-aos="zoom-in" data-aos-delay="300">
                    <img src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Rugby%2FCaptura%20de%20tela%202025-08-14%20201830.png?alt=media&token=257b2f25-983e-4720-9b7d-71a49314f3e0"
                        alt="Restaurante do Resort"
                        class="rounded-lg shadow-lg aspect-video object-cover transform hover:scale-110 transition duration-300"
                        data-aos="zoom-in" data-aos-delay="400">
                </div>
            </div>
        </section>

        <section id="programacao" class="py-20 bg-slate-900">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-4xl sm:text-5xl md:text-6xl text-amber-400 mb-12" data-aos="fade-up">
                    Programação do Evento</h2>

                <div class="mb-8 flex justify-center border-b border-slate-700 max-w-lg mx-auto" data-aos="fade-up"
                    data-aos-delay="100">
                    <button data-day-target="dia-sexta" class="schedule-tab active-tab text-lg font-bold py-3 px-6">
                        Sexta, 06/02</button>
                    <button data-day-target="dia-sabado" class="schedule-tab text-lg font-bold py-3 px-6">
                        Sábado, 07/02</button>
                    <button data-day-target="dia-domingo" class="schedule-tab text-lg font-bold py-3 px-6">
                        Domingo, 08/02</button>
                </div>

                <div data-aos="fade-up" data-aos-delay="200">
                    <div id="dia-sexta" class="day-content">
                        <div class="max-w-3xl mx-auto bg-slate-800 p-8 rounded-xl shadow-lg text-left space-y-6 card-mud">
                            <div class="flex items-start">
                                <i data-lucide="log-in" class="w-8 h-8 text-amber-400 mr-4 flex-shrink-0 mt-1"></i>
                                <div>
                                    <p class="text-2xl font-bold text-white">A
                                        partir das 14:00</p>
                                    <p class="text-lg text-gray-300">Check-in e
                                        Boas-vindas</p>
                                    <p class="text-gray-400 font-roboto mt-1">
                                        Recepção dos atletas e famílias no Zagaia Eco Resort.</p>
                                </div>
                            </div>
                            <div class="border-t border-slate-700 my-4"></div>
                            <div class="flex items-start">
                                <i data-lucide="sun" class="w-8 h-8 text-amber-400 mr-4 flex-shrink-0 mt-1"></i>
                                <div>
                                    <p class="text-2xl font-bold text-white">16:00 - 18:00</p>
                                    <p class="text-lg text-gray-300">Touch Rugby
                                        Sunset</p>
                                    <ul class="list-disc list-inside text-gray-400 pl-2 mt-2 space-y-1 font-roboto">
                                        <li>Jogo de confraternização para todas as idades.</li>
                                        <li>Times mistos montados na hora.</li>
                                        <li>Perfeito para aquecer e reencontrar os amigos.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="dia-sabado" class="day-content hidden">
                        <div class="max-w-3xl mx-auto bg-slate-800 p-8 rounded-xl shadow-lg text-left space-y-4 card-mud">
                            <p class="text-center text-amber-400 font-bold mb-4 font-roboto">
                                Cada bloco de 30 minutos corresponde a um jogo completo.</p>

                            <div class="bg-slate-900 p-3 rounded-lg flex items-start gap-4">
                                <span class="font-bold text-amber-400 w-24 text-center text-lg pt-1">08:30 - 10:00</span>
                                <div>
                                    <strong class="text-amber-400 text-xl">Rodadas
                                        Golden Oldies (3 Jogos)</strong>
                                    <p class="text-sm text-gray-400">Jogos com
                                        regras adaptadas para os veteranos.</p>
                                </div>
                            </div>
                            <div class="bg-slate-700 p-3 rounded-lg flex items-start gap-4">
                                <span class="font-bold text-white w-24 text-center text-lg pt-1">10:00 - 11:30</span>
                                <div>
                                    <strong class="text-white text-xl">Rodadas
                                        Idade Livre (3 Jogos)</strong>
                                    <p class="text-sm text-gray-400">Jogos abertos
                                        para todas as idades e níveis.</p>
                                </div>
                            </div>
                            <div class="bg-green-800/50 text-green-300 p-3 rounded-lg flex items-center justify-center gap-4">
                                <strong class="text-white text-xl">11:30 - 14:30 |
                                    ALMOÇO E RESENHA</strong>
                            </div>
                            <div class="bg-slate-900 p-3 rounded-lg flex items-start gap-4">
                                <span class="font-bold text-amber-400 w-24 text-center text-lg pt-1">14:30 - 16:00</span>
                                <div>
                                    <strong class="text-amber-400 text-xl">Rodadas
                                        Golden Oldies (3 Jogos)</strong>
                                    <p class="text-sm text-gray-400">Mais uma
                                        rodada de jogos para as lendas.</p>
                                </div>
                            </div>
                            <div class="bg-slate-700 p-3 rounded-lg flex items-start gap-4">
                                <span class="font-bold text-white w-24 text-center text-lg pt-1">16:00 - 17:00</span>
                                <div>
                                    <strong class="text-white text-xl">Rodadas
                                        Idade Livre (2 Jogos)</strong>
                                    <p class="text-sm text-gray-400">
                                        Confraternização em campo para todos.</p>
                                </div>
                            </div>
                            <div class="bg-slate-900 p-3 rounded-lg flex items-start gap-4">
                                <span class="font-bold text-amber-400 w-24 text-center text-lg pt-1">17:00 - 17:30</span>
                                <div>
                                    <strong class="text-amber-400 text-xl">Rodada Golden Oldies (1 Jogo)</strong>
                                    <p class="text-sm text-gray-400">Último jogo
                                        dos veteranos.</p>
                                </div>
                            </div>
                            <div class="bg-slate-700 p-3 rounded-lg flex items-start gap-4">
                                <span class="font-bold text-white w-24 text-center text-lg pt-1">17:30 - 18:30</span>
                                <div>
                                    <strong class="text-white text-xl">Encerramento Idade Livre (2 Jogos)</strong>
                                    <p class="text-sm text-gray-400">As grandes
                                        partidas de confraternização para fechar o dia.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="dia-domingo" class="day-content hidden">
                        <div class="max-w-3xl mx-auto bg-slate-800 p-8 rounded-xl shadow-lg text-left space-y-6 card-mud">
                            <div class="flex items-start">
                                <i data-lucide="coffee" class="w-8 h-8 text-amber-400 mr-4 flex-shrink-0 mt-1"></i>
                                <div>
                                    <p class="text-2xl font-bold text-white">Manhã
                                    </p>
                                    <p class="text-lg text-gray-300">Café da Manhã
                                        de Despedida</p>
                                    <p class="text-gray-400 font-roboto mt-1">Última
                                        oportunidade para a resenha final e troca de contatos.</p>
                                </div>
                            </div>
                            <div class="border-t border-slate-700 my-4"></div>
                            <div class="flex items-start">
                                <i data-lucide="log-out" class="w-8 h-8 text-amber-400 mr-4 flex-shrink-0 mt-1"></i>
                                <div>
                                    <p class="text-2xl font-bold text-white">Até
                                        12:00</p>
                                    <p class="text-lg text-gray-300">Check-out</p>
                                    <p class="text-gray-400 font-roboto mt-1">
                                        Encerramento oficial do 1º Encontro Rugby Legends.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="bonito" class="py-20 bg-slate-800">
            <div class="container mx-auto px-4">
                <div class="text-center" data-aos="fade-up">
                    <h2 class="text-4xl sm:text-5xl md:text-6xl text-amber-400 mb-4">
                        Explore Bonito, um Paraíso Natural</h2>
                    <p class="max-w-4xl mx-auto text-lg text-gray-300 mb-12 font-roboto">
                        Aproveite a viagem para conhecer um dos destinos de ecoturismo mais famosos do mundo. Bonito-MS
                        é um santuário de águas cristalinas, grutas impressionantes e uma fauna exuberante. Perfeito
                        para flutuação, mergulho e aventuras inesquecíveis com a família.
                    </p>
                </div>
                <div class="grid md:grid-cols-3 gap-4 mb-12">
                    <img src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Rugby%2FCaptura%20de%20tela%202025-08-21%20093623.png?alt=media&token=3b9a7e6a-b4ed-483b-86c3-2698c1b24b65"
                        alt="Flutuação em Bonito" class="rounded-lg shadow-lg aspect-video object-cover"
                        data-aos="flip-left" data-aos-duration="1000">
                    <img src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Rugby%2FCaptura%20de%20tela%202025-08-21%20093400.png?alt=media&token=eb160464-b8bd-436b-b850-5adf7116ac19"
                        alt="Gruta do Lago Azul em Bonito" class="rounded-lg shadow-lg aspect-video object-cover"
                        data-aos="flip-left" data-aos-duration="1000" data-aos-delay="200">
                    <img src="https://firebasestorage.googleapis.com/v0/b/platamais.firebasestorage.app/o/Rugby%2FCaptura%20de%20tela%202025-08-21%20093725.png?alt=media&token=ca98e9d4-577d-4639-9963-1bdcd041e208"
                        alt="Mergulho em Bonito" class="rounded-lg shadow-lg aspect-video object-cover"
                        data-aos="flip-left" data-aos-duration="1000" data-aos-delay="400">
                </div>
                <div class="grid md:grid-cols-2 gap-12 text-left bg-slate-900 p-8 rounded-xl" data-aos="fade-up">
                    <div>
                        <h3 class="text-4xl text-white mb-6 flex items-center">
                            <i data-lucide="map-pin" class="w-8 h-8 mr-3 text-amber-400"></i>Como Chegar</h3>
                        <p class="text-gray-300 mb-4 font-roboto">O aeroporto mais
                            próximo é o de Bonito (BYO), que recebe voos de diversas capitais. Outra opção é voar até
                            Campo Grande (CGR) e contratar um serviço de transfer ou alugar um carro para uma viagem de
                            aproximadamente 259km.</p>
                        <p class="text-gray-300 font-roboto">Para facilitar sua
                            logística, recomendamos o contato com nossas agências parceiras.</p>
                    </div>
                    <div>
                        <h3 class="text-4xl text-white mb-6 flex items-center"><i
                                data-lucide="handshake" class="w-8 h-8 mr-3 text-amber-400"></i>Agências Parceiras</h3>
                        <ul class="space-y-4 text-gray-300 font-roboto">
                            <li class="flex items-start">
                                <i data-lucide="briefcase"
                                    class="w-5 h-5 mr-3 mt-1 text-amber-400 flex-shrink-0"></i>
                                <div>
                                    <strong>PNGTur (Agência)</strong><br>
                                    <a href="tel:+551148838899" class="hover:text-amber-400">Telefone</a>: 11 4883-8899<br>
                                    <a href="https://wa.me/5511940190054" target="_blank"
                                        class="hover:text-amber-400">WhatsApp</a>: 11 94019-0054<br>
                                    <a href="mailto:alima@pngtur.com.br" class="hover:text-amber-400">Email</a>:
                                    alima@pngtur.com.br
                                </div>
                            </li>
                            <li class="flex items-start">
                                <i data-lucide="briefcase"
                                    class="w-5 h-5 mr-3 mt-1 text-amber-400 flex-shrink-0"></i>
                                <div>
                                    <strong>Crisval Tur (Agência)</strong><br>
                                    <a href="https://wa.me/5567999863298" target="_blank"
                                        class="hover:text-amber-400">WhatsApp</a>: +55 67 99986-3298<br>
                                    <a href="mailto:gerencia@crisval.com.br"
                                        class="hover:text-amber-400">Email</a>: gerencia@crisval.com.br<br>
                                    <a href="https://crisval.com.br/" target="_blank" class="hover:text-amber-400">Website</a>: crisval.com.br
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="kit" class="py-20 bg-slate-800">
            <div class="container mx-auto px-4">
                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div class="text-center md:text-left" data-aos="fade-right">
                        <h2 class="text-4xl sm:text-5xl md:text-6xl text-amber-400 mb-4">Seu
                            Kit de Lenda</h2>
                        <p class="text-xl text-gray-300 mb-8 font-roboto">
                            Ao garantir sua vaga, você não apenas entra em campo, mas também leva para casa um kit
                            exclusivo para eternizar este encontro. Vista toda a família com as cores do evento!
                        </p>
                        <div class="space-y-6">
                            <div
                                class="flex items-center bg-slate-900 p-4 rounded-lg transition duration-300 hover:bg-slate-700/50 transform hover:translate-x-2">
                                <i data-lucide="shirt" class="w-12 h-12 text-amber-400 mr-4 flex-shrink-0"></i>
                                <div>
                                    <h4 class="text-2xl text-white">Camiseta Premium do
                                        Evento</h4>
                                    <p class="text-gray-400 font-roboto">Design
                                        exclusivo, personalizada com seu nome e número.</p>
                                </div>
                            </div>
                            <div
                                class="flex items-center bg-slate-900 p-4 rounded-lg transition duration-300 hover:bg-slate-700/50 transform hover:translate-x-2">
                                <i data-lucide="beer" class="w-12 h-12 text-amber-400 mr-4 flex-shrink-0"></i>
                                <div>
                                    <h4 class="text-2xl text-white">Copo Térmico
                                        Personalizado</h4>
                                    <p class="text-gray-400 font-roboto">Mantenha sua
                                        bebida na temperatura ideal durante a resenha.</p>
                                </div>
                            </div>
                        </div>
                        <div class="mt-10">
                            <button id="openKitModalBtn"
                                class="bg-white text-gray-900 font-bold py-3 px-8 rounded-full text-lg hover:bg-gray-200 transition duration-300 transform hover:scale-105 shadow-lg">QUERO MEU KIT!</button>
                        </div>
                    </div>
                    
                    <!-- CARROSSEL DE IMAGENS -->
                    <div data-aos="fade-left" class="perspective-1000 relative w-full aspect-[4/5] rounded-xl shadow-2xl overflow-hidden group bg-gray-900 border border-slate-700">
                        <div id="carousel-track" class="flex transition-transform duration-500 ease-in-out h-full w-full">
                            <img src="https://firebasestorage.googleapis.com/v0/b/conecta-web-digital.firebasestorage.app/o/rugby%20kit%2FWhatsApp%20Image%202025-12-04%20at%2013.52.30%20(1).jpeg?alt=media&token=e97b0d06-762e-40b3-aa52-5aa420bbd8c1"
                                alt="Kit Rugby Legends Camiseta"
                                class="w-full h-full object-contain flex-shrink-0 bg-slate-800">
                            <img src="https://firebasestorage.googleapis.com/v0/b/conecta-web-digital.firebasestorage.app/o/rugby%20kit%2FWhatsApp%20Image%202025-12-04%20at%2013.52.30.jpeg?alt=media&token=08b6d893-2a78-4953-b639-6603df1e7692"
                                alt="Kit Rugby Legends Copo"
                                class="w-full h-full object-contain flex-shrink-0 bg-slate-800">
                        </div>
                        
                        <!-- Setas de navegação -->
                        <button id="prev-slide" type="button" class="absolute left-2 top-1/2 -translate-y-1/2 bg-black/60 text-white p-3 rounded-full hover:bg-amber-500 hover:text-black transition duration-300 z-50 backdrop-blur-sm cursor-pointer shadow-lg border border-white/20">
                            <i data-lucide="chevron-left" class="w-6 h-6"></i>
                        </button>
                        <button id="next-slide" type="button" class="absolute right-2 top-1/2 -translate-y-1/2 bg-black/60 text-white p-3 rounded-full hover:bg-amber-500 hover:text-black transition duration-300 z-50 backdrop-blur-sm cursor-pointer shadow-lg border border-white/20">
                            <i data-lucide="chevron-right" class="w-6 h-6"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section id="inscricao" class="py-20 bg-slate-900">
            <div class="container mx-auto px-4">
                <div class="max-w-3xl mx-auto text-center" data-aos="fade-up">
                    <h2 class="text-4xl sm:text-5xl md:text-6xl text-amber-400 mb-4">
                        Garanta sua Vaga no Time!</h2>
                    <p class="text-xl text-gray-300 mb-8 font-roboto">
                        As vagas são <strong>extremamente limitadas e exclusivas para quem adquirir o pacote do evento
                            Rugby Legends do Zagaia</strong>. A inscrição garante um lugar em <strong>um dos
                            times</strong>. Não fique de fora desta convocação histórica!
                    </p>
                </div>
                <div id="inscription-wrapper" class="max-w-2xl mx-auto" data-aos="zoom-in" data-aos-delay="200">
                    <form id="inscriptionForm" class="bg-slate-800 p-8 rounded-xl shadow-lg space-y-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label for="fullName" class="block text-amber-400 font-bold mb-2 font-roboto">Nome Completo</label>
                                <input type="text" id="fullName" name="fullName"
                                    class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400 transition duration-200 focus:bg-slate-600"
                                    required>
                            </div>
                            <div>
                                <label for="nickname" class="block text-amber-400 font-bold mb-2 font-roboto">Apelido (de campo)</label>
                                <input type="text" id="nickname" name="nickname"
                                    class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400 transition duration-200 focus:bg-slate-600"
                                    required>
                            </div>
                        </div>

                        <div>
                            <label for="celular" class="block text-amber-400 font-bold mb-2 font-roboto">Celular (com DDD)</label>
                            <input type="tel" id="celular" name="celular" placeholder="(XX) XXXXX-XXXX"
                                class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400 transition duration-200 focus:bg-slate-600"
                                required>
                        </div>

                        <div>
                            <label for="cidadeEstado" class="block text-amber-400 font-bold mb-2 font-roboto">De qual cidade está vindo? (Cidade / Estado)</label>
                            <input type="text" id="cidadeEstado" name="cidadeEstado" placeholder="Ex: Campo Grande / MS"
                                class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400 transition duration-200 focus:bg-slate-600"
                                required>
                        </div>

                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label for="age" class="block text-amber-400 font-bold mb-2 font-roboto">Idade</label>
                                <input type="number" id="age" name="age"
                                    class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400 transition duration-200 focus:bg-slate-600"
                                    required>
                            </div>
                            <div>
                                <label for="position" class="block text-amber-400 font-bold mb-2 font-roboto">Posição Principal</label>
                                <select id="position" name="position"
                                    class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400 transition duration-200 focus:bg-slate-600"
                                    required>
                                    <option value="">Selecione...</option>
                                    <option value="Pilar">Pilar</option>
                                    <option value="Hooker">Hooker</option>
                                    <option value="Segunda Linha">Segunda Linha</option>
                                    <option value="Asa">Asa</option>
                                    <option value="Oitavo">Oitavo</option>
                                    <option value="Scrum-half">Scrum-half</option>
                                    <option value="Abertura">Abertura</option>
                                    <option value="Centro">Centro</option>
                                    <option value="Ponta">Ponta</option>
                                    <option value="Fullback">Fullback</option>
                                </select>
                            </div>
                        </div>

                        <div>
                            <span class="block text-amber-400 font-bold mb-2 font-roboto">Você já tem uma equipe?</span>
                            <div class="flex items-center space-x-6 mt-2">
                                <label class="flex items-center text-white cursor-pointer font-roboto">
                                    <input type="radio" name="hasTeam" value="Sim"
                                        class="form-radio h-5 w-5 text-amber-500 bg-slate-700 border-gray-600 focus:ring-amber-400"
                                        required>
                                    <span class="ml-2">Sim</span>
                                </label>
                                <label class="flex items-center text-white cursor-pointer font-roboto">
                                    <input type="radio" name="hasTeam" value="Não"
                                        class="form-radio h-5 w-5 text-amber-500 bg-slate-700 border-gray-600 focus:ring-amber-400">
                                    <span class="ml-2">Não</span>
                                </label>
                            </div>
                        </div>

                        <div id="teamSelectionContainer" class="hidden">
                            <label for="teamName" class="block text-amber-400 font-bold mb-2 font-roboto">Selecione sua equipe</label>
                            <select id="teamName" name="teamName"
                                class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400 transition duration-200 focus:bg-slate-600">
                            </select>
                        </div>

                        <div>
                            <span class="block text-amber-400 font-bold mb-2 font-roboto">Já adquiriu o pacote e garantiu a vaga no hotel?</span>
                            <div class="flex items-center space-x-6 mt-2">
                                <label class="flex items-center text-white cursor-pointer font-roboto">
                                    <input type="radio" name="hasPackage" value="Sim"
                                        class="form-radio h-5 w-5 text-amber-500 bg-slate-700 border-gray-600 focus:ring-amber-400"
                                        required>
                                    <span class="ml-2">Sim</span>
                                </label>
                                <label class="flex items-center text-white cursor-pointer font-roboto">
                                    <input type="radio" name="hasPackage" value="Não"
                                        class="form-radio h-5 w-5 text-amber-500 bg-slate-700 border-gray-600 focus:ring-amber-400">
                                    <span class="ml-2">Não, preciso reservar</span>
                                </label>
                            </div>
                        </div>
                        <div class="pt-4">
                            <button type="submit" id="submitButton"
                                class="w-full bg-amber-500 hover:bg-amber-400 text-gray-900 font-bold py-4 px-8 rounded-lg text-xl transition duration-300 transform hover:scale-105 shadow-lg hover:shadow-amber-500/50">
                                ENVIAR INSCRIÇÃO
                            </button>
                        </div>
                        <div id="form-message" class="text-center font-bold mt-4"></div>
                    </form>
                </div>
            </div>
        </section>

        <section id="countdown-section" class="py-12 bg-emerald-700 text-white">
            <div class="container mx-auto text-center px-4" data-aos="fade-up">
                <h3 class="text-4xl mb-4">Garanta a Tarifa Especial de Hospedagem!
                </h3>
                <p class="text-lg mb-6 font-roboto">A tarifa de grupo com desconto é
                    válida para reservas feitas até 27 de Novembro de 2025. Não perca tempo!</p>
                <div id="countdown" class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto">
                    <div class="countdown-box p-4 rounded-lg bg-emerald-800/50">
                        <span id="days" class="text-5xl font-bold block">00</span>
                        <p class="text-sm font-roboto">Dias</p>
                    </div>
                    <div class="countdown-box p-4 rounded-lg bg-emerald-800/50">
                        <span id="hours" class="text-5xl font-bold block">00</span>
                        <p class="text-sm font-roboto">Horas</p>
                    </div>
                    <div class="countdown-box p-4 rounded-lg bg-emerald-800/50">
                        <span id="minutes" class="text-5xl font-bold block">00</span>
                        <p class="text-sm font-roboto">Minutos</p>
                    </div>
                    <div class="countdown-box p-4 rounded-lg bg-emerald-800/50">
                        <span id="seconds" class="text-5xl font-bold block">00</span>
                        <p class="text-sm font-roboto">Segundos</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="pacotes" class="py-20 bg-slate-800">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl sm:text-5xl md:text-6xl text-center text-amber-400 mb-12" data-aos="fade-up">Pacotes de Hospedagem</h2>
                <p class="max-w-3xl mx-auto text-center text-lg text-gray-300 mb-12 font-roboto" data-aos="fade-up"
                    data-aos-delay="100">
                    A inscrição no torneio é gratuita, mas a participação está condicionada à aquisição de um dos
                    pacotes de hospedagem abaixo. Garanta sua estadia para confirmar sua vaga!
                </p>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-slate-900 rounded-xl shadow-lg overflow-hidden flex flex-col card-mud"
                        data-aos="zoom-in" data-aos-delay="100">
                        <div class="p-8 flex-grow">
                            <h3 class="text-3xl text-amber-400 mb-4">Premium</h3>
                            <ul class="space-y-2 text-gray-300 font-roboto">
                                <li><span class="font-bold text-white">Single:</span>
                                    R$ 2.503,00</li>
                                <li><span class="font-bold text-white">Duplo:</span>
                                    R$ 3.224,00</li>
                                <li><span class="font-bold text-white">Triplo:</span>
                                    R$ 3.943,00</li>
                                <li><span class="font-bold text-white">Quádruplo:</span> R$ 4.697,00</li>
                            </ul>
                        </div>
                        <div class="p-4"><a href="#inscricao"
                                class="block w-full text-center bg-amber-500 hover:bg-amber-400 text-gray-900 font-bold py-3 px-6 rounded-lg transition duration-300">INSCREVA-SE E RESERVE</a></div>
                    </div>
                    <div class="bg-slate-900 rounded-xl shadow-lg overflow-hidden flex flex-col card-mud border-4 border-amber-400 transform lg:scale-105"
                        data-aos="zoom-in" data-aos-delay="200">
                        <div class="bg-amber-400 text-gray-900 text-center py-2 font-bold">MAIS POPULAR</div>
                        <div class="p-8 flex-grow">
                            <h3 class="text-3xl text-amber-400 mb-4">Premium Luxo</h3>
                            <ul class="space-y-2 text-gray-300 font-roboto">
                                <li><span class="font-bold text-white">Single:</span>
                                    R$ 2.852,00</li>
                                <li><span class="font-bold text-white">Duplo:</span>
                                    R$ 3.506,00</li>
                                <li><span class="font-bold text-white">Triplo:</span>
                                    R$ 4.259,00</li>
                                <li><span class="font-bold text-white">Quádruplo:</span> R$ 5.050,00</li>
                            </ul>
                        </div>
                        <div class="p-4"><a href="#inscricao"
                                class="block w-full text-center bg-amber-500 hover:bg-amber-400 text-gray-900 font-bold py-3 px-6 rounded-lg transition duration-300">INSCREVA-SE E RESERVE</a></div>
                    </div>
                    <div class="bg-slate-900 rounded-xl shadow-lg overflow-hidden flex flex-col card-mud"
                        data-aos="zoom-in" data-aos-delay="300">
                        <div class="p-8 flex-grow">
                            <h3 class="text-3xl text-amber-400 mb-4">Suíte</h3>
                            <ul class="space-y-2 text-gray-300 font-roboto">
                                <li><span class="font-bold text-white">Single:</span>
                                    R$ 3.030,00</li>
                                <li><span class="font-bold text-white">Duplo:</span>
                                    R$ 3.821,00</li>
                                <li><span class="font-bold text-white">Triplo:</span>
                                    R$ 4.612,00</li>
                                <li><span class="font-bold text-white">Quádruplo:</span> R$ 5.446,00</li>
                            </ul>
                        </div>
                        <div class="p-4"><a href="#inscricao"
                                class="block w-full text-center bg-amber-500 hover:bg-amber-400 text-gray-900 font-bold py-3 px-6 rounded-lg transition duration-300">INSCREVA-SE E RESERVE</a></div>
                    </div>
                </div>

                <div class="mt-16" data-aos="fade-up">
                    <h3 class="text-4xl text-center text-white mb-10">O que o
                        pacote de hospedagem inclui?</h3>
                    <div class="grid lg:grid-cols-5 gap-8 items-stretch">
                        <div class="bg-slate-900 p-8 rounded-xl lg:col-span-3">
                            <h4 class="text-3xl text-amber-400 mb-6">Refeições
                                e Hospedagem</h4>
                            <ul class="space-y-4 text-lg text-gray-300 font-roboto">
                                <li class="flex items-start">
                                    <i data-lucide="calendar-days"
                                        class="w-6 h-6 text-amber-400 mr-3 mt-1 flex-shrink-0"></i>
                                    <span><strong>2 Diárias Completas:</strong> de 06 a 08 de Fevereiro de 2026.</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="coffee"
                                        class="w-6 h-6 text-amber-400 mr-3 mt-1 flex-shrink-0"></i>
                                    <span><strong>Café da Manhã e Jantar:</strong> Inclusos durante toda a
                                        estadia.</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="utensils-crossed"
                                        class="w-6 h-6 text-amber-400 mr-3 mt-1 flex-shrink-0"></i>
                                    <span><strong>Almoço Especial de Sábado:</strong> Para recarregar as energias
                                        (07/02).</span>
                                </li>
                            </ul>
                        </div>
                        <div
                            class="bg-amber-500 text-gray-900 p-8 rounded-xl shadow-2xl border-4 border-amber-300 transform lg:scale-105 flex flex-col justify-center items-center lg:col-span-2 hover:shadow-amber-500/50 transition duration-300">
                            <div class="flex items-center justify-center mb-4">
                                <i data-lucide="beer"
                                    class="w-12 h-12 md:w-16 md:h-16 text-gray-900 transform rotate-12"></i>
                                <i data-lucide="martini"
                                    class="w-12 h-12 md:w-16 md:h-16 text-gray-900 -ml-4 transform -rotate-12"></i>
                            </div>
                            <h4 class="text-4xl md:text-5xl text-center font-bold">OPEN BAR</h4>
                            <p class="text-center text-xl font-semibold mb-2 font-roboto">SÁBADO, 07/02</p>
                            <p class="text-center text-lg font-bold mb-4 font-roboto">(das 11h às 23h)</p>
                            <p class="text-center text-base md:text-lg font-roboto">
                                Água, refrigerante, suco, cervejas (Skol & Heineken), caipirinhas e sorvetes para
                                celebrar o dia todo!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="reserva" class="py-20 bg-slate-800 border-t border-slate-700">
            <div class="container mx-auto text-center px-4" data-aos="fade-up">
                <h2 class="text-4xl sm:text-5xl md:text-6xl text-amber-400 mb-4">Faça
                    sua Reserva no Hotel</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-300 mb-12 font-roboto">
                    As reservas de hospedagem são feitas diretamente com o Zagaia Eco Resort. Entre em contato,
                    mencione o evento <strong>"Encontro Rugby LEGENDS"</strong> para garantir a tarifa especial e
                    confirme sua presença nesta celebração histórica!
                </p>
                <div class="flex flex-col md:flex-row justify-center items-center gap-8">
                    <div
                        class="bg-slate-900 p-8 rounded-lg text-center transition duration-300 hover:bg-slate-700/50 transform hover:scale-105">
                        <i data-lucide="phone" class="mx-auto h-12 w-12 text-amber-400 mb-4"></i>
                        <h3 class="text-3xl mb-2">Telefone</h3>
                        <a href="tel:+556732555534"
                            class="text-2xl text-white hover:text-amber-400 transition duration-300 font-roboto">(67)
                            3255-5534</a>
                    </div>
                    <div
                        class="bg-slate-900 p-8 rounded-lg text-center transition duration-300 hover:bg-slate-700/50 transform hover:scale-105">
                        <i data-lucide="mail" class="mx-auto h-12 w-12 text-amber-400 mb-4"></i>
                        <h3 class="text-3xl mb-2">E-mail</h3>
                        <a href="mailto:comercial@zagaia.com.br"
                            class="text-2xl text-white hover:text-amber-400 transition duration-300 font-roboto">comercial@zagaia.com.br</a>
                    </div>
                </div>
                <div class="mt-12">
                    <h4 class="text-2xl text-amber-400 mb-4">Formas de Pagamento
                        da Hospedagem</h4>
                    <p class="text-gray-300 font-roboto">Opção 1: Sinal de 30% +
                        saldo em 3x no check-in.</p>
                    <p class="text-gray-300 font-roboto">Opção 2: Parcelado em 10x no
                        cartão no ato da reserva.</p>
                </div>
            </div>
        </section>

        <footer class="bg-black py-8">
            <div class="container mx-auto text-center text-gray-500">
                <h3 class="text-3xl text-white tracking-wider mb-2">R<span class="text-amber-400">UGBY</span> L<span
                        class="text-amber-400">EGENDS</span></h3>
                <p class="mb-4 font-roboto">#RugbyLegendsBrasil #RugbyVeterano #BonitoMS #ZagaiaResort</p>
                <p class="font-roboto">&copy; 2025 1º Encontro Rugby LEGENDS. Todos os
                    direitos reservados.</p>
                <p class="mt-4 text-sm font-roboto">
                    <a href="https://conectawebdigital.com.br" target="_blank" rel="noopener noreferrer"
                        class="hover:text-amber-400 transition-colors">
                        Criado por Victor Cruzetta
                    </a>
                </p>
            </div>
        </footer>
    </main>

    <div id="whatsapp-container" class="fixed bottom-5 right-5 z-[100]">
        <div id="whatsapp-options" class="flex flex-col items-end mb-3 space-y-2 hidden">
            <a href="https://wa.me/5567996129961?text=Olá!%20Visitei%20o%20site%20do%201º%20Encontro%20Rugby%20LEGENDS%20e%20gostaria%20de%20mais%20informações%20sobre%20o%20evento.%20Poderia%20me%20ajudar%3F"
                target="_blank" rel="noopener noreferrer"
                class="flex items-center bg-white text-gray-800 py-2 px-4 rounded-full shadow-lg hover:bg-gray-200 transition-transform transform hover:scale-105 w-max">
                <span class="font-bold mr-2 font-roboto">Falar com Roberto</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" viewBox="0 0 24 24"
                    fill="currentColor">
                    <path
                        d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01s-.521.074-.792.372c-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.626.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
                </svg>
            </a>
            <a href="https://wa.me/5567992002916?text=Olá!%20Visitei%20o%20site%20do%201º%20Encontro%20Rugby%20LEGENDS%20e%20gostaria%20de%20mais%20informações%20sobre%20o%20evento.%20Poderia%20me%20ajudar%3F"
                target="_blank" rel="noopener noreferrer"
                class="flex items-center bg-white text-gray-800 py-2 px-4 rounded-full shadow-lg hover:bg-gray-200 transition-transform transform hover:scale-105 w-max">
                <span class="font-bold mr-2 font-roboto">Falar com Rodrigo</span>
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" viewBox="0 0 24 24"
                    fill="currentColor">
                    <path
                        d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01s-.521.074-.792.372c-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.626.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
                </svg>
            </a>
        </div>
        <button id="whatsapp-toggle"
            class="bg-green-500 text-white rounded-full p-4 shadow-lg hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-transform transform hover:scale-110">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor">
                <path
                    d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01s-.521.074-.792.372c-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.626.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z" />
                </svg>
            </button>
    </div>

    <div id="kitModal"
        class="fixed inset-0 bg-black/80 z-[100] hidden flex items-start justify-center overflow-y-auto p-4 pt-8 sm:pt-12">
        <div id="kitModalContent"
            class="bg-slate-800 rounded-xl shadow-lg w-full max-w-2xl p-8 relative transform transition-all duration-300 scale-95 opacity-0">
            <button id="closeKitModal" class="absolute top-4 right-4 text-gray-400 hover:text-white text-3xl leading-none">&times;</button>

            <div id="kit-welcome-step" class="hidden text-center">
                <i data-lucide="shield-check" class="mx-auto h-20 w-20 text-green-400 mb-4"></i>
                <h3 id="kit-welcome-title" class="text-4xl text-amber-400 mb-4">
                    Inscrição Confirmada, Lenda!</h3>
                <p class="text-lg text-gray-300 mb-8 font-roboto">Agora o próximo
                    passo é garantir seu manto sagrado. Monte o kit para você e toda a família e eternize esse
                    encontro!</p>
                <button type="button" id="startKitOrderBtn"
                    class="w-full bg-amber-500 hover:bg-amber-400 text-gray-900 font-bold py-3 px-6 rounded-lg transition duration-300 text-xl">
                    MONTAR MEU KIT
                </button>
            </div>

            <div id="kit-step-1" class="hidden">
                <h3 class="text-4xl text-amber-400 mb-2 text-center">Monte seu Pedido
                    de Kits</h3>
                <p class="text-gray-300 mb-6 text-center font-roboto">Adicione quantos
                    kits (camiseta + copo) você precisar para sua família e amigos!</p>

                <div class="bg-slate-900 p-4 rounded-lg mb-6 text-sm text-center font-roboto">
                    <p class="font-bold text-amber-400 mb-2">VALOR DO KIT:</p>
                    <p><strong class="text-white">Preço Fixo:</strong> R$ 150,00</p>
                </div>

                <form id="kitOrderForm" class="space-y-6 text-left">
                    <fieldset class="border-2 border-slate-700 p-4 rounded-lg">
                        <legend class="text-amber-400 font-bold px-2 text-xl">Seus
                            Dados de Contato</legend>
                        <div class="space-y-4">
                            <div>
                                <label for="buyerName" class="block text-white font-bold mb-2 font-roboto">Nome Completo</label>
                                <input type="text" id="buyerName"
                                    class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400"
                                    required>
                            </div>
                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label for="buyerEmail" class="block text-white font-bold mb-2 font-roboto">E-mail para Contato</label>
                                    <input type="email" id="buyerEmail"
                                        class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400"
                                        required>
                                </div>
                                <div>
                                    <label for="buyerCelular" class="block text-white font-bold mb-2 font-roboto">Celular (com DDD)</label>
                                    <input type="tel" id="buyerCelular" placeholder="(XX) XXXXX-XXXX"
                                        class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400"
                                        required>
                                </div>
                            </div>
                            <div>
                                <label for="buyerCPF" class="block text-white font-bold mb-2 font-roboto">CPF do Pagador</label>
                                <input type="text" id="buyerCPF" placeholder="000.000.000-00"
                                     class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400"
                                     required>
                            </div>
                        </div>
                    </fieldset>

                    <fieldset class="border-2 border-dashed border-slate-600 p-4 rounded-lg">
                        <legend class="text-amber-400 font-bold px-2 text-xl">
                            Adicionar Kit ao Pedido</legend>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label for="kitShirtName" class="block text-white font-bold mb-2 font-roboto">Nome na Camiseta</label>
                                <input type="text" id="kitShirtName"
                                    class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400"
                                    placeholder="Apelido ou nome">
                            </div>
                            <div>
                                <label for="kitShirtNumber" class="block text-white font-bold mb-2 font-roboto">Número</label>
                                <input type="number" id="kitShirtNumber" min="0" max="99"
                                    class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400"
                                    placeholder="Ex: 10">
                            </div>
                        </div>
                        <div class="grid md:grid-cols-2 gap-4 mt-4">
                            <div>
                                <label for="kitGender" class="block text-white font-bold mb-2 font-roboto">Gênero</label>
                                <select id="kitGender"
                                    class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400">
                                    <option value="Masculino">Masculino</option>
                                    <option value="Feminino">Feminino (Baby Look)
                                    </option>
                                    <option value="Infantil">Infantil</option>
                                </select>
                            </div>
                            <div>
                                <label for="kitShirtSize" class="block text-white font-bold mb-2 font-roboto">Tamanho</label>
                                <select id="kitShirtSize"
                                    class="w-full bg-slate-700 text-white p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400">
                                    <option value="">Selecione</option>
                                    <option value="PP">PP</option>
                                    <option value="P">P</option>
                                    <option value="M">M</option>
                                    <option value="G">G</option>
                                    <option value="GG">GG</option>
                                    <option value="XG">XG</option>
                                    <option value="XXG">XXG</option>
                                    <option value="XGG">XGG</option>
                                </select>
                            </div>
                        </div>
                        <button type="button" id="addKitItemBtn"
                            class="mt-4 w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg transition duration-300 flex items-center justify-center">
                            <i data-lucide="plus-circle" class="w-5 h-5 mr-2"></i> <span>Adicionar Kit</span>
                        </button>
                    </fieldset>

                    <div>
                        <h4 class="text-2xl text-white mt-6 mb-2">Resumo do Pedido
                        </h4>
                        <div id="kit-summary-list" class="space-y-2">
                            <p class="text-gray-400 text-center p-4 font-roboto">
                                Seu carrinho de kits está vazio.</p>
                        </div>
                    </div>

                    <div class="text-center pt-4">
                        <h4 class="text-4xl text-white mb-6"><span>Valor Total:</span>
                            <span id="kit-total-price" class="text-amber-400">R$ 0,00</span></h4>
                        <button type="button" id="goToPaymentBtn"
                            class="w-full bg-amber-500 hover:bg-amber-400 text-gray-900 font-bold py-3 px-6 rounded-lg transition duration-300 text-xl">
                            IR PARA PAGAMENTO
                        </button>
                    </div>
                </form>
            </div>

            <div id="kit-step-2" class="hidden">
                 <h3 class="text-4xl text-amber-400 mb-4 text-center">Finalize seu Pagamento</h3>
                 <p class="text-gray-300 mb-6 font-roboto text-center">Selecione a forma de pagamento abaixo.</p>

                <div class="bg-slate-900 p-6 rounded-lg text-left space-y-4">
                    <div>
                        <p class="text-sm text-gray-400 font-roboto">Valor Total a Pagar:</p>
                        <p id="payment-total-value" class="text-3xl font-bold text-amber-400">R$ 0,00</p>
                    </div>

                    <div class="flex border-b border-slate-700 mb-4">
                        <button id="showCardBtn" class="payment-tab flex-1 p-3 font-bold text-lg bg-slate-700 rounded-t-lg">
                            <i data-lucide="credit-card" class="inline-block h-5 w-5 mr-2 -mt-1"></i> Cartão de Crédito
                        </button>
                        <button id="showPixBtn" class="payment-tab flex-1 p-3 font-bold text-lg text-slate-400">
                            <svg class="inline-block h-5 w-5 mr-2 -mt-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path fill="currentColor" d="M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24m-2.29 111.45L96.2 165a8 8 0 0 1-13.4-8.1l30.29-45.43a8 8 0 0 1 13.84 8.24l-11.85 17.77L149.3 93a8 8 0 0 1 13.4 8.1l-30.29 45.43a8 8 0 0 1-13.84-8.24l11.85-17.77Z"/></svg>
                             PIX
                        </button>
                    </div>

                    <div id="cardPaymentContainer">
                        <form id="payment-form">
                            <div id="cardPaymentBrick_container"></div>
                        </form>
                    </div>
                    
                    <div id="pixPaymentContainer" class="hidden text-center">
                        <div id="pix-loading" class="py-10 text-center">
                            <p class="font-bold text-lg">Gerando seu PIX, aguarde...</p>
                        </div>
                        <div id="pix-ready" class="hidden">
                            <p class="text-gray-300 mb-4">Escaneie o QR Code com o app do seu banco:</p>
                             <img id="pix-qrcode" src="" alt="PIX QR Code" class="mx-auto bg-white p-2 rounded-lg max-w-[250px] w-full">
                            
                            <p class="text-gray-400 my-4">ou copie o código abaixo:</p>
                            
                            <div class="flex">
                                <input type="text" id="pix-copia-cola" readonly class="w-full bg-slate-700 text-white p-3 rounded-l-lg text-sm truncate">
                                <button id="copyPixBtn" class="bg-amber-500 hover:bg-amber-600 text-gray-900 font-bold p-3 rounded-r-lg">
                                    <i data-lucide="copy" class="h-5 w-5"></i>
                                </button>
                            </div>
                            <p id="copy-feedback" class="text-green-400 mt-2 h-5"></p>
                            
                            <p id="pix-wait-message" class="text-amber-400 mt-4 font-roboto">Aguardando pagamento... Você receberá a confirmação por e-mail.</p>
                        </div>
                    </div>
                    
                    <div id="payment-error-message" class="text-center font-bold mt-4 text-red-400"></div>
                </div>

                <div class="mt-8 flex flex-col sm:flex-row gap-4">
                    <button type="button" id="backToCartBtn" class="w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg transition duration-300">Voltar e Editar Pedido</button>
                </div>
            </div>


            <div id="kit-step-3" class="hidden text-center">
                <i data-lucide="party-popper" class="mx-auto h-20 w-20 text-green-400 mb-4"></i>
                <h3 id="success-title" class="text-4xl text-green-400 mb-4">Pedido Realizado com Sucesso!</h3>
                <p id="success-message" class="text-lg text-gray-300 mb-6 font-roboto">Obrigado! Seu pagamento foi aprovado e já recebemos seu pedido.<br>Nos vemos no evento!</p>
                <button id="close-success-btn" class="mt-8 w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg transition duration-300">
                    Fechar
                </button>
            </div>
            <div id="kit-form-message" class="text-center font-bold mt-4"></div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js";
        import { getAuth, signInAnonymously } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";
        import { getFunctions, httpsCallable } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-functions.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDkR9qaY8xzektPr0DninTxaFOhP3PX_Qo",
            authDomain: "encontrorugbylegends.firebaseapp.com",
            projectId: "encontrorugbylegends",
            storageBucket: "encontrorugbylegends.firebasestorage.app",
            messagingSenderId: "228233608028",
            appId: "1:228233608028:web:952e04b9ef63aa70d15f99",
            measurementId: "G-054DYF3Z1E"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const functions = getFunctions(app, 'us-central1');
        const createKitCardPayment = httpsCallable(functions, 'createKitCardPayment');
        const createKitPixPayment = httpsCallable(functions, 'createKitPixPayment');

        signInAnonymously(auth)
            .then(() => {
                console.log("Anonymous user authenticated successfully.");
            })
            .catch((error) => {
                console.error("Anonymous authentication failed:", error);
            });

        // Elementos do DOM
        const inscriptionForm = document.getElementById('inscriptionForm');
        const submitButton = document.getElementById('submitButton');
        const kitModal = document.getElementById('kitModal');
        const kitModalContent = document.getElementById('kitModalContent');
        const openKitModalBtn = document.getElementById('openKitModalBtn');
        const closeKitModalButton = document.getElementById('closeKitModal');
        const kitOrderForm = document.getElementById('kitOrderForm');
        const welcomeStep = document.getElementById('kit-welcome-step');
        const startKitOrderBtn = document.getElementById('startKitOrderBtn');
        const step1 = document.getElementById('kit-step-1');
        const step2 = document.getElementById('kit-step-2');
        const step3 = document.getElementById('kit-step-3');
        const addKitItemBtn = document.getElementById('addKitItemBtn');
        const kitSummaryList = document.getElementById('kit-summary-list');
        const kitTotalPrice = document.getElementById('kit-total-price');
        const goToPaymentBtn = document.getElementById('goToPaymentBtn');
        const backToCartBtn = document.getElementById('backToCartBtn');
        const closeSuccessBtn = document.getElementById('close-success-btn');
        const showCardBtn = document.getElementById('showCardBtn');
        const showPixBtn = document.getElementById('showPixBtn');
        const cardPaymentContainer = document.getElementById('cardPaymentContainer');
        const pixPaymentContainer = document.getElementById('pixPaymentContainer');
        const pixLoading = document.getElementById('pix-loading');
        const pixReady = document.getElementById('pix-ready');
        const pixQrcode = document.getElementById('pix-qrcode');
        const pixCopiaCola = document.getElementById('pix-copia-cola');
        const copyPixBtn = document.getElementById('copyPixBtn');


        window.kitOrder = [];
        window.currentKitPrice = 0;

        function getCurrentKitPrice() {
            return 150;
        }

        // CARROSSEL REMOVIDO DAQUI E MOVIDO PARA O SCRIPT ABAIXO PARA GARANTIR FUNCIONAMENTO

        function updateOrderSummary() {
            kitSummaryList.innerHTML = '';
            if (window.kitOrder.length === 0) {
                kitSummaryList.innerHTML = `<p class="text-gray-400 text-center p-4 font-roboto">Seu carrinho de kits está vazio.</p>`;
                goToPaymentBtn.disabled = true;
                goToPaymentBtn.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                goToPaymentBtn.disabled = false;
                goToPaymentBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                window.kitOrder.forEach((item, index) => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'bg-slate-900 p-3 rounded-lg flex justify-between items-center';
                    itemDiv.innerHTML = `
                        <div>
                            <p class="font-bold text-white font-roboto">${item.shirtName} (${item.gender}, Tam: ${item.size})</p>
                            <p class="text-sm text-gray-400 font-roboto">Número: ${item.shirtNumber || 'S/N'}</p>
                        </div>
                        <button type="button" data-index="${index}" class="remove-kit-item text-red-500 hover:text-red-400 p-2">
                            <i data-lucide="trash-2" class="w-5 h-5"></i>
                        </button>
                    `;
                    kitSummaryList.appendChild(itemDiv);
                });
                lucide.createIcons();
            }
            const total = window.kitOrder.length * window.currentKitPrice;
            kitTotalPrice.textContent = window.formatCurrency(total);
        }

        function openKitModalWithWelcome(nickname) {
            document.body.classList.add('overflow-hidden');
            kitModal.classList.remove('hidden');
            kitModal.classList.add('flex');

            welcomeStep.classList.remove('hidden');
            step1.classList.add('hidden');
            step2.classList.add('hidden');
            step3.classList.add('hidden');

            const welcomeTitle = document.getElementById('kit-welcome-title');
            welcomeTitle.innerHTML = `Inscrição Confirmada, ${nickname}!`;
            lucide.createIcons();

            setTimeout(() => {
                kitModalContent.classList.remove('scale-95', 'opacity-0');
                kitModalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function openKitModal() {
            document.body.classList.add('overflow-hidden');
            kitModal.classList.remove('hidden');
            kitModal.classList.add('flex');
            window.currentKitPrice = getCurrentKitPrice();

            window.kitOrder = [];
            kitOrderForm.reset();
            updateOrderSummary();

            welcomeStep.classList.add('hidden');
            step1.classList.remove('hidden');
            step2.classList.add('hidden');
            step3.classList.add('hidden');

            setTimeout(() => {
                kitModalContent.classList.remove('scale-95', 'opacity-0');
                kitModalContent.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function closeKitModal() {
            document.body.classList.remove('overflow-hidden');
            kitModalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                kitModal.classList.add('hidden');
                kitModal.classList.remove('flex');
            }, 300);
        }

        startKitOrderBtn.addEventListener('click', () => {
            welcomeStep.classList.add('hidden');
            window.currentKitPrice = getCurrentKitPrice();
            window.kitOrder = [];
            updateOrderSummary();
            step1.classList.remove('hidden');
        });

        addKitItemBtn.addEventListener('click', () => {
            const shirtName = document.getElementById('kitShirtName').value.trim();
            const shirtNumber = document.getElementById('kitShirtNumber').value;
            const gender = document.getElementById('kitGender').value;
            const size = document.getElementById('kitShirtSize').value;

            if (!shirtName || !size) {
                const msgDiv = document.getElementById('kit-form-message');
                msgDiv.textContent = "Por favor, preencha o Nome na Camiseta e o Tamanho.";
                msgDiv.className = 'text-center font-bold mt-4 text-red-400';
                setTimeout(() => msgDiv.textContent = '', 3000);
                return;
            }

            window.kitOrder.push({ shirtName, shirtNumber, gender, size });
            updateOrderSummary();

            document.getElementById('kitShirtName').value = '';
            document.getElementById('kitShirtNumber').value = '';
            document.getElementById('kitShirtSize').value = '';
            document.getElementById('kitShirtName').focus();
        });

        kitSummaryList.addEventListener('click', (e) => {
            const removeButton = e.target.closest('.remove-kit-item');
            if (removeButton) {
                const indexToRemove = parseInt(removeButton.dataset.index, 10);
                window.kitOrder.splice(indexToRemove, 1);
                updateOrderSummary();
            }
        });

        backToCartBtn.addEventListener('click', () => {
            step2.classList.add('hidden');
            step1.classList.remove('hidden');
        });

        inscriptionForm.addEventListener('submit', async function (e) {
            e.preventDefault();
            submitButton.disabled = true;
            submitButton.textContent = "ENVIANDO...";
            const formData = new FormData(this);
            const nickname = formData.get('nickname');
            const fullName = formData.get('fullName');
            const celular = formData.get('celular');

            const inscriptionData = {
                fullName: fullName,
                nickname: nickname,
                celular: celular,
                cidadeEstado: formData.get('cidadeEstado'),
                age: formData.get('age'),
                position: formData.get('position'),
                hasPackage: formData.get('hasPackage'),
                hasTeam: formData.get('hasTeam'),
                teamName: formData.get('teamName'),
                purchaseType: 'inscription',
                timestamp: serverTimestamp()
            };

            try {
                await addDoc(collection(db, "inscriptions"), inscriptionData);

                const userData = {
                    inscrito: true,
                    apelido: nickname,
                    nomeCompleto: fullName,
                    celular: celular
                };
                localStorage.setItem('rugbyLegendsUser', JSON.stringify(userData));

                window.applyPersonalization(userData);

                const inscriptionWrapper = document.getElementById('inscription-wrapper');
                inscriptionWrapper.style.transition = 'opacity 0.5s ease';
                inscriptionWrapper.style.opacity = '0';

                setTimeout(() => {
                    document.getElementById('buyerName').value = fullName;
                    document.getElementById('buyerCelular').value = celular;
                    openKitModalWithWelcome(nickname);
                }, 500);

            } catch (error) {
                console.error("Error adding document: ", error);
                const formMessage = document.getElementById('form-message');
                formMessage.textContent = "Ocorreu um erro. Tente novamente.";
                formMessage.className = 'text-center font-bold mt-4 text-red-400';
                submitButton.disabled = false;
                submitButton.textContent = "ENVIAR INSCRIÇÃO";
            }
        });

        openKitModalBtn.addEventListener('click', openKitModal);
        closeKitModalButton.addEventListener('click', closeKitModal);
        closeSuccessBtn.addEventListener('click', closeKitModal);
        
        const mp = new MercadoPago('APP_USR-2504ea4f-ae18-417f-83ea-a5eea9bc219a', {
            locale: 'pt-BR'
        });
        let cardPaymentBrickController;
        let currentKitOrderId = null; // <-- VARIÁVEL PARA GUARDAR O ID DO PEDIDO
        
        const renderCardPaymentBrick = async () => {
            if (cardPaymentBrickController) {
                await cardPaymentBrickController.unmount();
            }
            const settings = {
                initialization: {
                    amount: window.kitOrder.length * window.currentKitPrice,
                    payer: {},
                },
                customization: {
                    visual: { style: { theme: 'dark' } },
                    paymentMethods: { maxInstallments: 12 }
                },
                callbacks: {
                    onReady: () => {},
                    onSubmit: async (formData) => {
                        document.getElementById('payment-error-message').textContent = '';
                        try {
                            const orderData = {
                                buyerName: document.getElementById('buyerName').value,
                                buyerCelular: document.getElementById('buyerCelular').value,
                                buyerEmail: document.getElementById('buyerEmail').value,
                                kits: window.kitOrder,
                                totalPrice: window.kitOrder.length * window.currentKitPrice,
                            };
                            // --> CORREÇÃO: Passa o ID do pedido para o backend
                            const result = await createKitCardPayment({ ...formData, order: orderData, orderId: currentKitOrderId });
                            if (result.data && result.data.status === 'approved') {
                                showSuccessScreen();
                            } else {
                                throw new Error(result.data.status_detail || 'Pagamento recusado.');
                            }
                        } catch (error) {
                            document.getElementById('payment-error-message').textContent = `Erro: ${error.message}`;
                        }
                    },
                    onError: (error) => {
                        console.error("Brick Error:", error);
                        document.getElementById('payment-error-message').textContent = 'Ocorreu um erro nos dados do cartão. Verifique e tente novamente.';
                    },
                },
            };
            cardPaymentBrickController = await mp.bricks().create('cardPayment', 'cardPaymentBrick_container', settings);
        };
        
        const handlePixPayment = async () => {
            pixReady.classList.add('hidden');
            pixLoading.classList.remove('hidden');
            document.getElementById('payment-error-message').textContent = '';

            try {
                const orderData = {
                    buyerName: document.getElementById('buyerName').value,
                    buyerCelular: document.getElementById('buyerCelular').value,
                    buyerEmail: document.getElementById('buyerEmail').value,
                    buyerCPF: document.getElementById('buyerCPF').value, 
                    kits: window.kitOrder,
                    totalPrice: window.kitOrder.length * window.currentKitPrice,
                };
                
                // --> CORREÇÃO: Passa o ID do pedido para o backend
                const result = await createKitPixPayment({ order: orderData, orderId: currentKitOrderId });
                
                if (result.data && result.data.qr_code) {
                    pixQrcode.src = `data:image/png;base64,${result.data.qr_code_base64}`;
                    pixCopiaCola.value = result.data.qr_code;
                    pixLoading.classList.add('hidden');
                    pixReady.classList.remove('hidden');
                } else {
                    const errorMsg = (result.data && result.data.message) ? result.data.message : 'Não foi possível obter os dados do PIX.';
                    throw new Error(errorMsg);
                }
            } catch (error) {
                 document.getElementById('payment-error-message').textContent = `Erro: ${error.message}`;
                 pixLoading.classList.add('hidden');
            }
        };
        
        const showSuccessScreen = (paymentMethod = 'card') => {
             const successTitle = document.getElementById('success-title');
             const successMessage = document.getElementById('success-message');

            if(paymentMethod === 'pix'){
                return;
            }
            
            successTitle.textContent = "Pedido Realizado com Sucesso!";
            successMessage.innerHTML = "Obrigado! Seu pagamento foi aprovado e já recebemos seu pedido.<br>Nos vemos no evento!";
            
            step2.classList.add('hidden');
            step3.classList.remove('hidden');
            lucide.createIcons();
        }

        // --> CÓDIGO DO BOTÃO "IR PARA PAGAMENTO" TOTALMENTE SUBSTITUÍDO
        goToPaymentBtn.addEventListener('click', async () => {
            const buyerName = document.getElementById('buyerName').value.trim();
            const buyerEmail = document.getElementById('buyerEmail').value.trim();
            const buyerCelular = document.getElementById('buyerCelular').value.trim();
            const buyerCPF = document.getElementById('buyerCPF').value.trim();

            if (window.kitOrder.length === 0 || !buyerName || !buyerEmail || !buyerCelular || !buyerCPF) {
                const msgDiv = document.getElementById('kit-form-message');
                msgDiv.textContent = "Por favor, preencha todos os seus dados de contato (incluindo CPF) e adicione ao menos um kit.";
                msgDiv.className = 'text-center font-bold mt-4 text-red-400';
                setTimeout(() => msgDiv.textContent = '', 3000);
                return;
            }

            goToPaymentBtn.disabled = true;
            goToPaymentBtn.textContent = 'Aguarde...';

            try {
                const orderData = {
                    purchaseType: 'kit_order',
                    paymentStatus: 'pending', // Status inicial
                    buyerName,
                    buyerEmail,
                    buyerCelular,
                    buyerCPF,
                    kits: window.kitOrder,
                    totalPrice: window.kitOrder.length * window.currentKitPrice,
                    timestamp: serverTimestamp()
                };

                // Salva o pedido no banco de dados ANTES de ir para o pagamento
                const docRef = await addDoc(collection(db, "inscriptions"), orderData);
                currentKitOrderId = docRef.id; // Guarda o ID do novo pedido

                // Procede para a tela de pagamento
                step1.classList.add('hidden');
                step2.classList.remove('hidden');
                lucide.createIcons();

                const total = window.kitOrder.length * window.currentKitPrice;
                document.getElementById('payment-total-value').textContent = window.formatCurrency(total);
                
                showCardBtn.click(); // Mostra a opção de cartão primeiro

            } catch (error) {
                console.error("Erro ao criar pedido pendente: ", error);
                const msgDiv = document.getElementById('kit-form-message');
                msgDiv.textContent = "Ocorreu um erro. Tente novamente.";
                msgDiv.className = 'text-center font-bold mt-4 text-red-400';
            } finally {
                // Reabilita o botão, independentemente do resultado
                goToPaymentBtn.disabled = false;
                goToPaymentBtn.textContent = "IR PARA PAGAMENTO";
            }
        });

        showCardBtn.addEventListener('click', () => {
            cardPaymentContainer.classList.remove('hidden');
            pixPaymentContainer.classList.add('hidden');
            showCardBtn.classList.add('bg-slate-700', 'rounded-t-lg');
            showCardBtn.classList.remove('text-slate-400');
            showPixBtn.classList.remove('bg-slate-700', 'rounded-t-lg');
            showPixBtn.classList.add('text-slate-400');
            renderCardPaymentBrick().catch(console.error);
        });

        showPixBtn.addEventListener('click', () => {
            pixPaymentContainer.classList.remove('hidden');
            cardPaymentContainer.classList.add('hidden');
            showPixBtn.classList.add('bg-slate-700', 'rounded-t-lg');
            showPixBtn.classList.remove('text-slate-400');
            showCardBtn.classList.remove('bg-slate-700', 'rounded-t-lg');
            showCardBtn.classList.add('text-slate-400');
            handlePixPayment();
        });
        
        copyPixBtn.addEventListener('click', () => {
            pixCopiaCola.select();
            document.execCommand('copy');
            const feedback = document.getElementById('copy-feedback');
            feedback.textContent = "Código PIX copiado!";
            setTimeout(() => feedback.textContent = '', 2000);
        });

    </script>
    
    <script>
        window.formatCurrency = function (value) {
            return `R$ ${value.toFixed(2).replace('.', ',')}`;
        }

        AOS.init({
            duration: 800,
            once: true,
            offset: 100,
        });

        // LÓGICA DO CARROSSEL MOVIDA PARA CÁ E PROTEGIDA
        document.addEventListener('DOMContentLoaded', () => {
            const track = document.getElementById('carousel-track');
            const prevBtn = document.getElementById('prev-slide');
            const nextBtn = document.getElementById('next-slide');
            let currentSlide = 0;
            const totalSlides = 2; // Temos 2 imagens

            if (track && prevBtn && nextBtn) {
                // Função para atualizar posição
                const updateSlidePosition = () => {
                    track.style.transform = `translateX(-${currentSlide * 100}%)`;
                };

                // Event Listeners diretos
                nextBtn.addEventListener('click', (e) => {
                    e.preventDefault(); // Previne comportamentos padrão
                    e.stopPropagation(); // Garante que o clique fique no botão
                    currentSlide = (currentSlide + 1) % totalSlides;
                    updateSlidePosition();
                });

                prevBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                    updateSlidePosition();
                });
            }
        });

        window.applyPersonalization = (userData) => {
            if (userData && userData.inscrito && userData.apelido) {
                const inscriptionWrapper = document.getElementById('inscription-wrapper');
                const inscriptionForm = document.getElementById('inscriptionForm');

                if (inscriptionForm) inscriptionForm.style.display = 'none';

                const alreadyRegisteredMessage = `
                    <div class="text-center p-8 bg-slate-800 rounded-xl shadow-xl">
                        <i data-lucide="shield-check" class="mx-auto h-20 w-20 text-green-400 mb-4"></i>
                        <h3 class="text-3xl text-green-400 mb-2">Olá, ${userData.apelido}! Você já está no time.</h3>
                        <p class="text-lg text-gray-300 mb-6 font-roboto">Sua inscrição foi confirmada. Agora só falta garantir seu kit de lenda para fazer história em campo!</p>
                        <button id="showKitModalFromRegistered" class="bg-amber-500 hover:bg-amber-400 text-gray-900 font-bold py-3 px-8 rounded-full text-lg transition duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-amber-500/50">
                            GARANTIR MEU KIT
                        </button>
                    </div>
                `;
                if (inscriptionWrapper) inscriptionWrapper.innerHTML = alreadyRegisteredMessage;

                const kitButton = document.getElementById('showKitModalFromRegistered');
                if (kitButton) {
                    kitButton.addEventListener('click', () => {
                        if (userData.nomeCompleto) document.getElementById('buyerName').value = userData.nomeCompleto;
                        if (userData.celular) document.getElementById('buyerCelular').value = userData.celular;
                        document.getElementById('openKitModalBtn').click();
                    });
                }

                const heroContent = document.querySelector('#hero .z-20.container');
                const oldWelcome = heroContent.querySelector('.welcome-back-msg');
                if (oldWelcome) oldWelcome.remove();

                if (heroContent) {
                    const welcomeMessage = document.createElement('div');
                    welcomeMessage.className = 'welcome-back-msg bg-amber-500/95 text-gray-900 font-bold p-3 rounded-lg mb-6 max-w-md mx-auto shadow-lg text-xl';
                    welcomeMessage.innerHTML = `<i data-lucide="party-popper" class="inline-block -mt-1 mr-2 h-6 w-6"></i> Bem-vindo de volta, <span class="underline">${userData.apelido}</span>!`;
                    heroContent.prepend(welcomeMessage);
                }

                const headerCta = document.getElementById('header-cta-btn');
                if (headerCta) {
                    headerCta.textContent = `BEM-VINDO, ${userData.apelido.toUpperCase()}!`;
                    headerCta.href = '#kit';
                }

                lucide.createIcons();
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();

            const userDataString = localStorage.getItem('rugbyLegendsUser');
            if (userDataString) {
                const userData = JSON.parse(userDataString);
                window.applyPersonalization(userData);
            }
            
            const cpfInput = document.getElementById('buyerCPF');
            if (cpfInput) {
                cpfInput.addEventListener('input', (e) => {
                    let value = e.target.value.replace(/\D/g, '');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
                    e.target.value = value.slice(0, 14);
                });
            }

            const hasTeamRadios = document.querySelectorAll('input[name="hasTeam"]');
            const teamSelectionContainer = document.getElementById('teamSelectionContainer');
            const teamNameSelect = document.getElementById('teamName');
            const teams = { 'Sim': ['Keep Walking', 'pelicanos', 'Jurassic pira', 'Jaguaras', 'desterrados', 'Velho Oeste', 'Old Rats'], 'Não': ['Misto 1', 'Misto 2', 'Misto 3'] };
            hasTeamRadios.forEach(radio => {
                radio.addEventListener('change', (event) => {
                    const selectedValue = event.target.value;
                    teamNameSelect.innerHTML = '';
                    if (teams[selectedValue]) {
                        teams[selectedValue].forEach(team => {
                            const option = document.createElement('option');
                            option.value = team;
                            option.textContent = team;
                            teamNameSelect.appendChild(option);
                        });
                        teamSelectionContainer.classList.remove('hidden');
                        teamNameSelect.required = true;
                    } else {
                        teamSelectionContainer.classList.add('hidden');
                        teamNameSelect.required = false;
                    }
                });
            });

            const dayTabs = document.querySelectorAll('button[data-day-target]');
            const dayContents = document.querySelectorAll('.day-content');

            dayTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    dayTabs.forEach(t => t.classList.remove('active-tab'));
                    tab.classList.add('active-tab');
                    dayContents.forEach(content => content.classList.add('hidden'));
                    const targetContent = document.getElementById(tab.dataset.dayTarget);
                    if (targetContent) {
                        targetContent.classList.remove('hidden');
                    }
                    lucide.createIcons();
                });
            });
        });

        const countdown = () => {
            const countDate = new Date("November 27, 2025 23:59:59").getTime();
            const now = new Date().getTime();
            const gap = countDate - now;
            const second = 1000, minute = second * 60, hour = minute * 60, day = hour * 24;

            const textDay = Math.floor(gap / day);
            const textHour = Math.floor((gap % day) / hour);
            const textMinute = Math.floor((gap % hour) / minute);
            const textSecond = Math.floor((gap % minute) / second);

            const updateElement = (id, value) => {
                const element = document.getElementById(id);
                if (element) {
                    const formattedValue = value < 10 ? '0' + value : String(value);
                    if (element.innerText !== formattedValue) {
                        element.innerText = formattedValue;
                        const parentBox = element.parentElement;
                        parentBox.style.transform = 'scale(1.1)';
                        setTimeout(() => {
                            parentBox.style.transform = 'scale(1)';
                        }, 250);
                    }
                }
            };

            updateElement('days', textDay);
            updateElement('hours', textHour);
            updateElement('minutes', textMinute);
            updateElement('seconds', textSecond);

            if (gap < 0) {
                clearInterval(interval);
                if (document.getElementById('countdown-section')) {
                    document.getElementById('countdown-section').innerHTML = `<div class="container mx-auto text-center px-4"><h3 class="text-4xl">PRAZO ENCERRADO!</h3></div>`;
                }
            }
        };
        const interval = setInterval(countdown, 1000);
        countdown();

        const whatsappContainer = document.getElementById('whatsapp-container');
        const whatsappToggle = document.getElementById('whatsapp-toggle');
        const whatsappOptions = document.getElementById('whatsapp-options');
        whatsappToggle.addEventListener('click', (e) => {
            e.stopPropagation();
            whatsappContainer.classList.toggle('open');
            whatsappOptions.classList.toggle('hidden');
            whatsappOptions.classList.toggle('flex');
        });
        document.addEventListener('click', (e) => {
            if (!whatsappContainer.contains(e.target) && whatsappContainer.classList.contains('open')) {
                whatsappContainer.classList.remove('open');
                whatsappOptions.classList.add('hidden');
                whatsappOptions.classList.remove('flex');
            }
        });

        const header = document.querySelector('header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
    </script>

</body>

</html>